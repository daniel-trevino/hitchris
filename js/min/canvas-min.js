function drawMap(a){var i=new Image,e=document.getElementById("canvas"),n=window.devicePixelRatio||1,o=e.getContext("2d");o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight,e.style.width=e.width+"px",e.style.height=e.height+"px",e.width*=n,e.height*=n;var s=calcDifference(map,e),r=calcMapViewPort(s,a,e);i.onload=function(){o.scale(n,n),o.drawImage(i,r.x,r.y)},i.src="/img/map.svg";var d=[{x:22,y:59.45},{x:136,y:66},{x:170,y:99},{x:171,y:114},{x:183,y:125},{x:218,y:144},{x:218,y:165},{x:226,y:193},{x:254,y:195},{x:283,y:195},{x:292,y:202},{x:325,y:213},{x:341,y:134},{x:397,y:245},{x:417,y:548}],l=[{x:688,y:1104},{x:1841,y:574},{x:1863,y:559},{x:1860,y:548},{x:1800,y:748}]}function mimicSvg(a,i){a.lineCap="round",a.lineJoin="round",a.shadowColor="red",a.shadowBlur="2",a.lineWidth=25,drawPolyline(a,i),drawPolyline(a,i),drawPolyline(a,i),a.shadowColor="transparent",a.strokeStyle="pink",drawPolyline(a,i),a.lineWidth=2,a.strokeStyle="blue",drawPolyline(a,i)}function drawPolyline(a,i){a.beginPath(),a.moveTo(i[0].x,i[0].y);for(var e=1;e<i.length;e++)a.lineTo(i[e].x,i[e].y);a.stroke()}function calcDifference(a,i){var e,n=a.width-i.width,o=a.height-i.height;return e={x:n,y:o}}function calcMapViewPort(a,i,e){var n,o,s;return o=e.width/2-i.x,o-=i.x,o/=2,s=i.y-e.height/2,s+=e.height/4,s=-s,n={x:o,y:s}}var map={width:5452,height:3733},cuernavaca={x:1042,y:1672},norrkoping={x:2788,y:869},stockholm={x:2821,y:847},uppsala={x:2817,y:830},munich={x:2726,y:1133};$(window).resize(function(){drawMap(cuernavaca)});var canvas=document.getElementById("canvas"),cs=canvas.style;$(window).load(function(){$(window).trigger("resize")}),$(window).scroll(function(){var a=$(window).scrollTop();1e3>a&&($("div.map").hasClass("cuernavaca")||($("div.map").addClass("cuernavaca"),drawMap(cuernavaca))),a>1e3&&1200>a&&($("div.map").hasClass("norrkoping")||($("div.map").addClass("norrkoping"),$("div.map").removeClass("cuernavaca"),$("div.map").removeClass("stockholm"),drawMap(norrkoping))),a>1200&&1800>a&&($("div.map").hasClass("stockholm")||($("div.map").addClass("stockholm"),$("div.map").removeClass("norrkoping"),$("div.map").removeClass("uppsala"),drawMap(stockholm))),a>1800&&2400>a&&($("div.map").hasClass("uppsala")||($("div.map").addClass("uppsala"),$("div.map").removeClass("stockholm"),$("div.map").removeClass("munich"),drawMap(uppsala))),a>2400&&($("div.map").hasClass("munich")||($("div.map").addClass("munich"),$("div.map").removeClass("uppsala"),drawMap(munich))),console.log(a)});